https://www.javatpoint.com/mysql-check-constraint
MySQL CHECK CONSTRAINT - javatpoint
MySQL CHECK CONSTRAINT - javatpoint ? Home MySQL C C++ Java PHP HTML SQL Python Quiz Projects Interview Q Comment Forum Training MySQL Tutorial MySQL Tutorial MySQL Features MySQL Versions MySQL Data Types MySQL Variables Install MySQL MySQL Connection MySQL Workbench MySQL Workbench User Management MySQL Create User MySQL Drop User MySQL Show Users Change User Password MySQL Database MySQL Create Database MySQL Select Database MySQL Show Databases MySQL Drop Database MySQL Copy Database Table & Views MySQL CREATE Table MySQL ALTER Table MySQL Show Tables MySQL Rename Table MySQL TRUNCATE Table MySQL Describe Table MySQL DROP Table MySQL Temporary Table MySQL Copy Table MySQL Repair Table MySQL Add/Delete Column MySQL Show Columns MySQL Rename Column MySQL Views MySQL Table Locking MySQL Account Lock MySQL Account Unlock MySQL Queries MySQL Queries MySQL Constraints MySQL INSERT Record MySQL UPDATE Record MySQL DELETE Record MySQL SELECT Record MySQL Replace Insert On Duplicate Key Update MySQL INSERT IGNORE Insert Into Select MySQL Indexes MySQL Create Index MySQL Drop Index MySQL Show Indexes MySQL Unique Index MySQL Clustered Index MySQL Clustered vs Non-Clustered Index MySQL Clauses MySQL WHERE MySQL DISTINCT MySQL FROM MySQL ORDER BY MySQL GROUP BY MySQL HAVING MySQL Privileges MySQL Grant Privilege MySQL Revoke Privilege Control Flow Function MySQL IF() MySQL IFNULL() MySQL NULLIF() MySQL CASE MySQL IF Statement MySQL Conditions MySQL AND MySQL OR MySQL AND OR MySQL Boolean MySQL LIKE MySQL IN MySQL ANY MySQL Exists MySQL NOT MySQL Not Equal MySQL IS NULL MySQL IS NOT NULL MySQL BETWEEN MySQL Join MySQL JOIN MySQL Inner Join MySQL Left Join MySQL Right Join MySQL CROSS JOIN MySQL SELF JOIN MySQL DELETE JOIN MySQL Update Join MySQL EquiJoin MySQL Natural Join Left Join vs Right Join MySQL Union vs Join MySQL Key MySQL Unique Key MySQL Primary Key MySQL Foreign Key MySQL Composite Key MySQL Triggers MySQL Trigger MySQL Create Trigger MySQL Show Trigger MySQL DROP Trigger Before Insert Trigger After Insert Trigger MySQL BEFORE UPDATE Trigger MySQL AFTER UPDATE Trigger MySQL BEFORE DELETE Trigger MySQL AFTER DELETE Trigger Aggregate Functions MySQL Aggregate Functions MySQL count() MySQL sum() MySQL avg() MySQL min() MySQL max() MySQL GROUP_CONCAT() MySQL first() MySQL last() MySQL Misc MySQL Comments MySQL CHECK CONSTRAINT Change Storage Engine Export & Import Database Import CSV File in Database Export Table to CSV MySQL Subquery MySQL Derived Table MySQL UUID LEAD And LAG Function MySQL CTE MySQL On Delete Cascade MySQL UPSERT MySQL Commands Cheat-Sheet MySQL Transaction MySQL Partitioning MySQL ROW_NUMBER() MySQL Cursor MySQL Limit MySQL Stored Function MySQL Signal Resignal Number Format Function MySQL Ranking Functions MySQL Window Functions MySQL Union Union vs Union All MySQL VARCHAR MySQL ENUM MySQL SET MySQL DECIMAL MySQL CAST MySQL Convert() MySQL COALESCE() MySQL Wildcards MySQL Alias MySQL Functions MySQL ROLLUP MySQL INT MySQL Today MySQL ROW COUNT Prepared Statement MySQL Literals(Constants) MySQL Date & Time MySQL Procedure MySQL Minus MySQL Intersect MySQL Storage Engines MySQL Explain MySQL Sequence MySQL JSON MySQL Standard Deviation How to select nth Highest Record Find Duplicate Records Delete Duplicate Records MySQL Select Random Records MySQL Extract MySQL ProcessList MySQL BIT Change Column Type MySQL Reset Auto-Increment MySQL Interval Login with Different User MySQL Globalisation MySQL Character Set MySQL Collation Regular Expressions Regular Expressions MySQL RLIKE Not Like Operator Not regexp Operator regexp Operator regexp_instr() Function regexp_like() Function regexp_replace() Function regexp_substr() Function FULLTEXT Search MySQL Fulltext Search Natural Language Fulltext Search Boolean Fulltext Search Query Expansion Fulltext Search ngram Fulltext Parser Differences MySQL vs MongoDB MySQL vs MS SQL Server MySQL vs Oracle MariaDB vs MySQL PostgreSQL vs MySQL MySQL vs SQL Table vs View Delete vs Truncate Command Database vs Schema Primary Key vs Foreign Key Primary Key vs Unique key Primary Key vs Candidate Key Interview Questions MySQL Interview SQL Interview PL/SQL Interview next ? ? prev MySQL CHECK CONSTRAINT The check constraint is an integrity constraint that controls the value in a particular column. It ensures the inserted or updated value in a column must be matched with the given condition. In other words, it determines whether the value associated with the column is valid or not with the given condition. Before version 8.0.16, MySQL uses the limited version of this constraint. In the previous versions, we can create this constraint, but it does not work. It means its syntax is supported but not works with the database. With an earlier version, the CREATE TABLE statement can include a CHECK constraint, but they are parsed and ignored by MySQL. We can use it with the below syntax in the previous versions: 
CHECK (expr)  
 If we use previous versions and want to use check constraint, we can use constraint by emulating it using a view WITH CHECK OPTION or a trigger. After version 8.0.16, MySQL uses the CHECK constraints for all storage engines, i.e., table constraint and column constraint: 
[CONSTRAINT [symbol]] CHECK (expr) [[NOT] ENFORCED]  
 In this syntax, we first need to write the name for the check constraint we want to create. If we do not write it, MySQL generates a name automatically with the below convention: 
table_name_chk_n
 Here, n indicates the numeric number such as the CHECK constraints names for the user table will be user_chk_1, user_chk_2, and so on. Next, we need to specify a Boolean expression that should be evaluated as TRUE or UNKNOWN for each table record. If this expression returns FALSE, the constraint violation occurs for the given value. Third, we can optionally use an enforcement clause to verify whether the check constraint is enforced or not. If we want to create and enforce the constraint, use the ENFORCED or omit clause. And if you want to create a constraint without enforcing it, use the NOT ENFORCED clause. We have discussed earlier that the CHECK constraint can be used as a table constraint or a column constraint in MySQL. If we have specified the CHECK constraint as a table, it may apply to multiple columns. In contrast, if we have defined this constraint for a column, it can be referenced to the only column where it is defined. MySQL CHECK Constraint Examples Let us understand how to use the check constraint with columns and tables using various examples. 1) MySQL CHECK constraint with column The following statement creates a new table called vehicle where we specify the check constraint on a column: 
CREATE TABLE vehicle (
    vehicle_no VARCHAR(18) PRIMARY KEY,
    model_name VARCHAR(45),
    cost_price DECIMAL(10,2 ) NOT NULL CHECK (cost_price >= 0),
    sell_price DECIMAL(10,2) NOT NULL CHECK (sell_price >= 0)
);
 In the statement, we can see two CHECK constraints columns that are the cost_price and the sell_price column. As mention earlier, if we do not specify the check constraints names explicitly, MySQL automatically gives names for them. We can use the SHOW CREATE TABLE statement to display the table information with the CHECK constraint name as follows: 
mysql> SHOW CREATE TABLE vehicle;
 We should get the below output where we can see that MySQL generated the names for the check constraints as vehicle_chk_1 and vehicle_chk_2. Next, we will insert some records into the table using the below statement: 
mysql> INSERT INTO vehicle(vehicle_no, model_name, cost_price, sell_price) 
VALUES('S2001', 'Scorpio', 950000, 1000000),
('M3000', 'Mercedes', 2500000, 3000000);
 This statement is executed correctly because it does not violate the check constraint condition. MySQL opposes the change and gives an error message whenever we insert or update a value in the check constraint column that causes the Boolean expression's evaluation to be incorrect. See the below statement that tries to insert new records into the vehicle table: 
mysql> INSERT INTO vehicle(vehicle_no, model_name, cost_price, sell_price) 
VALUES('R0001', 'Rolls Royas', 75000000, -85000000);
 After executing this statement, MySQL issued an error as follows: 
ERROR 3819 (HY000): Check constraint 'vehicle_chk_2' is violated.
 We will get this error because the sell_price value column is negative that violates the check constraint rule by evaluating the expression price >= 0 to FALSE. 2) MySQL CHECK constraint with table First, we will delete the above table using the below statement: 
mysql> DROP TABLE IF EXISTS vehicle;
 Next, we will create the same table name vehicle again with one more check constraint using the below statement: 
CREATE TABLE vehicle (
	vehicle_no VARCHAR(18) PRIMARY KEY,
	model_name VARCHAR(45),
	cost_price DECIMAL(10,2 ) NOT NULL CHECK (cost_price >= 0),
	sell_price DECIMAL(10,2) NOT NULL CHECK (sell_price >= 0),
	CONSTRAINT vehicle_chk_sp_gt_cp CHECK(sell_price > cost_price)
);
 In this statement, we can see a new clause that defines a table CHECK constraint to ensure the sell_price is always higher than the cost_price as below: 
CONSTRAINT vehicle_chk_sp_gt_cp CHECK(sell_price > cost_price)
 Since we have defined the name for the check constraint explicitly, MySQL adds this new constraint with the specified name in the table definition. We can again use the SHOW CREATE TABLE statement to display the table definition with the CHECK constraint name as follows: In the output result, we can see that MySQL generated the check constraints name for a table at the end of the table description after the column list, as shown in the red rectangular box. Next, we will add some records into the table as follows: 
mysql> INSERT INTO vehicle(vehicle_no, model_name, cost_price, sell_price) 
VALUES('S2001', 'Avenger', 250000, 275000),
('M3000', 'Apache', 120000, 125000);
 This statement is executed correctly because it does not violate the check constraint condition. Again, we will try to attempt to insert a new record into the table whose sell_price is less than cost_price: 
INSERT INTO vehicle (vehicle_no, model_name, cost_price, sell_price) 
VALUES('R0001', 'Honda', 80000, 70000);
 MySQL rejects the change and gives an error message due to the constraint violation. See the below output: How to drop the check constraint? We can drop the check constraint from the table or column by using the following statements: 
ALTER TABLE table_name DROP CHECK constraint_name;
Or,
ALTER TABLE table_name DROP CONSTRAINT constraint_name;
 For example, if we want to delete the check constraint from a table vehicle, we may execute the statement as follows: 
mysql> ALTER TABLE vehicle DROP CHECK vehicle_chk_sp_gt_cp;
 This statement drops the specified constraint. After verification, we can see in the output that the specified constraint name has been deleted successfully. Next TopicMySQL Change Storage Engine ? prev next ? For Videos Join Our Youtube Channel: Join Now Help Others, Please Share Learn Latest Tutorials SoapUI RPA Manual T. Cucumber Appium PostgreSQL Solr MongoDB Gimp Verilog Teradata PhoneGap Preparation Aptitude Reasoning Verbal A. Interview Company Trending Technologies AI AWS Selenium Cloud Hadoop ReactJS D. Science Angular 7 Blockchain Git ML DevOps B.Tech / MCA DBMS DS DAA OS C. Network Compiler D. COA D. Math. E. Hacking C. Graphics Software E. Web Tech. Cyber Sec. Automata C C++ Java .Net Python Programs Control S. Data Mining Javatpoint Services JavaTpoint offers too many high quality services. Mail us on hr@javatpoint.com, to get more information about given services. Website Designing Website Development Java Development PHP Development WordPress Graphic Designing Logo Digital Marketing On Page and Off Page SEO PPC Content Development Corporate Training Classroom and Online Training Data Entry Training For College Campus JavaTpoint offers college campus training on Core Java, Advance Java, .Net, Android, Hadoop, PHP, Web Technology and Python. Please mail your requirement at hr@javatpoint.com. Duration: 1 week to 2 week Like/Subscribe us for latest updates or newsletter Learn TutorialsLearn JavaLearn Data StructuresLearn C ProgrammingLearn C++ TutorialLearn C# TutorialLearn PHP TutorialLearn HTML TutorialLearn JavaScript TutorialLearn jQuery TutorialLearn Spring Tutorial Our WebsitesJavatpoint.comHindi100.comLyricsia.comQuoteperson.comJobandplacement.com Our Services Website Development Android Development Website Designing Digital Marketing Summer Training Industrial Training College Campus Training Contact Address: G-13, 2nd Floor, Sec-3 Noida, UP, 201301, India Contact No: 0120-4256464, 9990449935Contact Us Subscribe Us Privacy PolicySitemap About Me © Copyright 2011-2018 www.javatpoint.com. All rights reserved. Developed by JavaTpoint.
